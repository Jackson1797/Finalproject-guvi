pipeline {
    agent any

    stages {
        
        stage('Verify if file exists') {
            steps {
                fileExists '/build/build.sh'
            }
        }
        
        stage('Build') {
            steps {
              copyArtifacts filter: 'build.sh', fingerprintArtifacts: true, projectName: 'project/dev', selector: lastSuccessful()
              sh 'build.sh'
            }
        }
    }
}
